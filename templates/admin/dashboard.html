<!-- templates/admin/dashboard.html -->
{% extends "base.html" %}

{% block title %}Admin Dashboard - Bible Quiz{% endblock %}

{% block content %}
<div class="container">
    <div class="admin-header">
        <h1><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h1>
        <a href="{{ url_for('admin.add_question') }}" class="btn btn-primary">
            <i class="fas fa-plus"></i> Add New Question
        </a>
    </div>

    <div class="stats-cards">
        <div class="stat-card">
            <i class="fas fa-question-circle"></i>
            <div class="stat-info">
                <h3>{{ questions|length }}</h3>
                <p>Total Questions</p>
            </div>
        </div>
    </div>

    <div class="questions-table">
        <h2>Manage Questions</h2>
        {% if questions %}
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Question</th>
                    <th>Correct Answer</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for question in questions %}
                <tr>
                    <td>{{ question.id }}</td>
                    <td class="question-preview">{{ question.question[:50] }}{% if question.question|length > 50 %}...{%
                        endif %}</td>
                    <td class="correct-answer">{{ question.correct_answer }}</td>
                    <td class="actions">
                        <a href="{{ url_for('admin.edit_question', id=question.id) }}" class="btn btn-sm btn-secondary">
                            <i class="fas fa-edit"></i> Edit
                        </a>
                        <a href="{{ url_for('admin.delete_question', id=question.id) }}" class="btn btn-sm btn-danger"
                            onclick="return confirm('Are you sure you want to delete this question?')">
                            <i class="fas fa-trash"></i> Delete
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <div class="empty-state">
            <i class="fas fa-question-circle"></i>
            <p>No questions found. <a href="{{ url_for('admin.add_question') }}">Add your first question</a>.</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}